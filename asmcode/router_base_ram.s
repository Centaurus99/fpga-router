    j TEST_DMA

DIRECT_ROUTE:
    li s0, 0x40000000
    li t0, 0x00020004
    sw t0, 0(s0)
    li s0, 0x40000008
    li t0, 0x00000009
    sw t0, 0(s0)
    li s0, 0x4000000C
    li t0, 0x0000A37A
    sw t0, 0(s0)
    li s0, 0x40000090
    li t0, 0x00000400
    sw t0, 0(s0)
    li s0, 0x40000098
    li t0, 0x0000000A
    sw t0, 0(s0)
    li s0, 0x400000A0
    li t0, 0x00000001
    sw t0, 0(s0)
    li s0, 0x400000A8
    li t0, 0x0000000B
    sw t0, 0(s0)
    li s0, 0x400000B0
    li t0, 0x00004000
    sw t0, 0(s0)
    li s0, 0x400000B8
    li t0, 0x00000C71
    sw t0, 0(s0)
    li s0, 0x4100C710
    li t0, 0x00000400
    sw t0, 0(s0)
    li s0, 0x4100C718
    li t0, 0x00000C72
    sw t0, 0(s0)
    li s0, 0x4100C720
    li t0, 0x00000400
    sw t0, 0(s0)
    li s0, 0x4100C728
    li t0, 0x00000C73
    sw t0, 0(s0)
    li s0, 0x4100C730
    li t0, 0x00000001
    sw t0, 0(s0)
    li s0, 0x4100C738
    li t0, 0x00000C74
    sw t0, 0(s0)
    li s0, 0x4100C740
    li t0, 0x00000040
    sw t0, 0(s0)
    li s0, 0x4100C748
    li t0, 0x00006FE6
    sw t0, 0(s0)
    li s0, 0x4206FE60
    li t0, 0x00000001
    sw t0, 0(s0)
    li s0, 0x4206FE68
    li t0, 0x00006FE7
    sw t0, 0(s0)
    li s0, 0x4206FE70
    li t0, 0x00000010
    sw t0, 0(s0)
    li s0, 0x4206FE78
    li t0, 0x00006FE8
    sw t0, 0(s0)
    li s0, 0x4206FE80
    li t0, 0x00000200
    sw t0, 0(s0)
    li s0, 0x4206FE88
    li t0, 0x00006FE9
    sw t0, 0(s0)
    li s0, 0x4206FE90
    li t0, 0x00000080
    sw t0, 0(s0)
    li s0, 0x4206FE98
    li t0, 0x0000000B
    sw t0, 0(s0)
    li s0, 0x430000B0
    li t0, 0x00000001
    sw t0, 0(s0)
    li s0, 0x430000B8
    li t0, 0x0000000C
    sw t0, 0(s0)
    li s0, 0x430000C0
    li t0, 0x00000400
    sw t0, 0(s0)
    li s0, 0x430000C8
    li t0, 0x0000000D
    sw t0, 0(s0)
    li s0, 0x430000D0
    li t0, 0x00000001
    sw t0, 0(s0)
    li s0, 0x430000D8
    li t0, 0x0000000E
    sw t0, 0(s0)
    li s0, 0x430000E0
    li t0, 0x0000000F
    sw t0, 0(s0)
    li s0, 0x430000E4
    li t0, 0x00000080
    sw t0, 0(s0)
    li s0, 0x430000E8
    li t0, 0x0001470C
    sw t0, 0(s0)
    li s0, 0x51000000
    li t0, 0x06AA0E2A
    sw t0, 0(s0)
    li s0, 0x51000004
    li t0, 0x000A9704
    sw t0, 0(s0)
    li s0, 0x5100000C
    li t0, 0x33230000
    sw t0, 0(s0)
    li s0, 0x51000020
    li t0, 0x06AA0E2A
    sw t0, 0(s0)
    li s0, 0x51000024
    li t0, 0x000A9704
    sw t0, 0(s0)
    li s0, 0x5100002C
    li t0, 0x44340000
    sw t0, 0(s0)
    li s0, 0x51000030
    li t0, 0x00000001
    sw t0, 0(s0)
    li s0, 0x51000040
    li t0, 0x06AA0E2A
    sw t0, 0(s0)
    li s0, 0x51000044
    li t0, 0x000A9704
    sw t0, 0(s0)
    li s0, 0x5100004C
    li t0, 0x55450000
    sw t0, 0(s0)
    li s0, 0x51000050
    li t0, 0x00000002
    sw t0, 0(s0)
    li s0, 0x51000060
    li t0, 0x06AA0E2A
    sw t0, 0(s0)
    li s0, 0x51000064
    li t0, 0x000A9704
    sw t0, 0(s0)
    li s0, 0x5100006C
    li t0, 0x66560000
    sw t0, 0(s0)
    li s0, 0x51000070
    li t0, 0x00000003
    sw t0, 0(s0)
    li s0, 0x80428DE8
    li t0, 0x03028483
    sw t0, 0(s0)
    li s0, 0x80428DEC
    li t0, 0x00028487
    sw t0, 0(s0)
    li s0, 0x80439200
    li t0, 0x00028487
    sw t0, 0(s0)
    li s0, 0x80439204
    li t0, 0x01028486
    sw t0, 0(s0)
    li s0, 0x80445784
    li t0, 0x00028487
    sw t0, 0(s0)
    li s0, 0x80445788
    li t0, 0x01028486
    sw t0, 0(s0)
    li s0, 0x8044578C
    li t0, 0x02028485
    sw t0, 0(s0)
    li s0, 0x80451C30
    li t0, 0x00028487
    sw t0, 0(s0)
    li s0, 0x80451C34
    li t0, 0x01028486
    sw t0, 0(s0)
    li s0, 0x80451C38
    li t0, 0x02028485
    sw t0, 0(s0)
    li s0, 0x80451C3C
    li t0, 0x03028484
    sw t0, 0(s0)

TEST_GUA:
    li s0, 0x61000020

    li t0, 0x06aa0e2a
    sw t0, 0x0(s0)
    li t0, 0x000a9704
    sw t0, 0x4(s0)
    li t0, 0x00000000
    sw t0, 0x8(s0)
    li t0, 0x01000000
    sw t0, 0xc(s0)

    j .DONE

TEST_DMA:
    li t0, 0x62000000

.TEST1:
    lb t1, 0(t0)
    andi t1, t1, 0x4    # Wait CPU ?
    beqz t1, .TEST1

.TEST2:
    li t1, 0x1
    sb t1, 0(t0)    # Request DMA
    lb t1, 0(t0)
    andi t1, t1, 0x1    # Check request
    beqz t1, .TEST2

.TEST3:
    li s0, 0x68000000
    lhu s1, 0(s0)
    li s2, 0
    addi s0, s0, 0x2
.loop:
    lbu s3, 0(s0)
    addi s0, s0, 1
    addi s2, s2, 1
    bne s2, s1, .loop

.TEST6: # Checksum
    li s0, 0x62000000
    li s1, 0x68000FFC
    li t1, 0x40
    sb t1, 0(s0)
.loop6:
    lb t1, 0(s0)
    andi t1, t1, 0x80  # Checksum Fin?
    beqz t1, .loop6
    lw t1, 0(s1)

.TEST4:
    li t1, 0x1c
    sb t1, 0(t0)    # Read & Write

.TEST5:
    li s0, 0x63000000
    lw t0, 0(s0)

.DONE:
    j .DONE

TEST_MMIO:
    li t0, 0x61000000
    li t1, 0x78563412
    sw t1, 0(t0)
    li t1, 0xf0debc9a
    sw t1, 4(t0)
    li t1, 0x1
    sw t1, 0x008(t0)
    sw t1, 0x108(t0)
    sw t1, 0x208(t0)
    sw t1, 0x308(t0)

    li t0, 0x61000120
    li t1, 0x78563412
    sw t1, 0(t0)
    li t1, 0xf0debc9a
    sw t1, 4(t0)

TEST_BRAM:
    li t0, 0x60000000
    lw t1, 0(t0)
    addi t0, t0, 4
    lw t1, 0(t0)

    li t0, 0x60000100
    lw t1, 0(t0)
    addi t0, t0, 4
    lw t1, 0(t0)

    li t0, 0x60000200
    lw t1, 0(t0)
    addi t0, t0, 4
    lw t1, 0(t0)

    li t0, 0x60000300
    lw t1, 0(t0)
    addi t0, t0, 4
    lw t1, 0(t0)
